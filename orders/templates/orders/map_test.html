{% extends 'base.html' %}
{% load static %}

{% block title %}Map Test - Laundry Pal{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tF/miZyoHS5obTRR9BMY="
      crossorigin=""/>
<style>
    #map {
        height: 600px;
        width: 100%;
        border-radius: 8px;
        margin: 1rem 0;
    }
</style>
{% endblock %}

{% block content %}
<div class="container py-4">
    <h1 class="mb-4">Map Test</h1>
    <div id="map"></div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Coordinates for Naval, Biliran, Philippines
    const NAVAL_CENTER = [11.5833, 124.4667];
    
    // Initialize the map
    const map = L.map('map').setView(NAVAL_CENTER, 14);
    
    // Add OpenStreetMap tiles
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        maxZoom: 19,
    }).addTo(map);
    
    // Add a marker
    L.marker(NAVAL_CENTER)
        .addTo(map)
        .bindPopup('Naval, Biliran, Philippines')
        .openPopup();
    
    // Add a circle
    L.circle(NAVAL_CENTER, {
        color: 'red',
        fillColor: '#f03',
        fillOpacity: 0.5,
        radius: 500
    }).addTo(map);
    
    // Add scale control
    L.control.scale().addTo(map);
    
    console.log('Map initialized successfully!');
});
</script>
{% endblock %}
